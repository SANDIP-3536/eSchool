<!DOCTYPE html>
<html>
  <head>
    <title>HTML5</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=650, user-scalable=yes">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB5JyC24Gjh4dWp99aVfNFLLkuDHd52Pqc"></script>

    <!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.min.js"></script>-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <style>
      html, body {
        height: 100%;
        margin: 0;      
      }

      #mapcanvas {
        height:100%;
        width: 100%;
      }
  
      #info {
        width: auto;
        margin: 5px;
        height: 3%;
      }

      #directionsPanel{
          height: 80%;
        width: 70%;
      }
    </style>
    
    <script>
      var directionDisplay;
      var directionsService = new google.maps.DirectionsService();
      var map;
      
      var latLonList = [
        { lat: <?=$lat?>, lon:<?=$lon?>,direction:<?=$angle?>,GPS:<?=$GPS?>,movement:"<?=$movement?>"},
      ]
// console.log(latLonList);
    
      $(document).ready(function () {


        directionsDisplay = new google.maps.DirectionsRenderer( {
            suppressMarkers: true
        });

        var mapOptions = {
          zoom: 18,
          center: new google.maps.LatLng(<?php echo $lat; ?>, <?php echo $lon; ?>),
          mapTypeId: google.maps.MapTypeId.ROADMAP,
          mapTypeControl: false
        };

        map = new google.maps.Map($('#mapcanvas')[0], mapOptions);

                var marker = null;
                var marker2 = null ; 
                var marker3 = null ; 
                var marker4 = null ; 
                var i = 0;
             
                var numDeltas = 100;
                var j = 0;
                var deltaLat;
                var deltaLng;
                var old_lat;
                var old_lon;
                
                var routes;
                var points;
                var l = 0;
                var data_flag=0;

                autoUpdate();

                function autoUpdate()
                {
                    
                    $.post('<?=site_url('tracking/route_curl')?>',{}, function(data){
                     // alert(data.lat+":"+data.lon);
                      if(data.lat!="")
                      {
                        latLonList.push({lat:data.lat,lon:data.lon,direction:data.angle,GPS:data.GPS,movement:data.movement});
                        data_flag=1;
                      }
                      else{
                        data_flag=0;
                      }
                      console.log(latLonList);
                    },'json');

                  if(data_flag==1)
                  {
                  j=0;
                  directionsDisplay.setMap(map);
                  directionsDisplay.setPanel(document.getElementById("directionsPanel"));

                        var myLatlng = new google.maps.LatLng(latLonList[i].lat, latLonList[i].lon);

                        var direction = latLonList[i].direction;

                        if (marker2)
                        {
                          if ((latLonList[i].GPS == "1" && latLonList[i].movement == "B")) 
                          {
                            marker2.setIcon(
                            {
                              path: 'M55 84c1,-1 1,0 2,0 1,0 1,0 2,0l10 0c0,0 0,0 1,0 1,0 2,-1 2,0 2,2 -3,1 -5,1 -1,0 -1,0 -1,0 -1,0 -1,1 -2,1l-2 0c0,0 -1,0 -1,0 -2,0 -4,-1 -5,-1 -2,0 -1,-1 -1,-1zm9 -79l0 0c2,0 4,0 6,0 2,1 4,1 5,2 1,2 1,2 1,4 0,0 0,0 -1,0 0,-1 0,-1 0,-2 -1,-1 -3,-2 -4,-2 -2,0 -4,-1 -5,-1 -2,0 -2,0 -2,0 1,0 5,0 6,1 0,0 0,0 0,1 1,1 3,5 5,3 0,0 0,0 0,0 1,0 1,0 1,1 0,1 0,2 0,3 0,1 0,1 1,1 0,2 -1,3 -1,4 1,0 2,1 2,1 0,0 1,0 1,0 0,1 0,1 -1,1 0,0 -1,0 -1,0 -1,0 0,0 -1,-1 0,1 0,1 0,1 0,1 0,1 0,2 0,0 0,0 0,1l0 37c3,0 5,0 7,0 1,0 2,0 3,0 0,0 1,0 1,0 1,0 1,1 2,1 0,-4 -1,-8 -3,-11l-1 -1c0,-1 -1,-1 -1,-1 0,-1 0,-1 1,-1 0,-1 0,-1 0,-1 1,0 1,0 2,1 0,0 0,0 0,1 1,0 1,0 1,0l1 2c1,3 2,6 2,11 1,0 1,0 1,0 0,0 1,0 1,0l5 0c0,-3 -1,-5 -1,-7 -1,-3 -1,-5 -2,-7 -1,-2 -2,-4 -4,-6 0,-1 -1,-2 -1,-2 0,-1 1,-1 1,-2 1,0 2,2 2,2 2,2 4,5 5,8 0,1 0,2 1,3 1,3 2,7 2,11 0,0 1,0 1,0 1,0 2,0 2,0 1,0 2,0 2,0l2 0c0,-4 -1,-7 -1,-10 -1,-2 -1,-3 -2,-4 0,-2 -1,-4 -2,-4l-1 -3c-1,-1 -1,-2 -2,-3 -1,-2 -4,-6 -7,-7 0,-1 1,-1 1,-1 0,-1 1,-1 1,-2 1,1 2,2 3,3l2 3c2,2 4,5 6,8 0,1 0,2 1,2l1 2c2,6 3,10 3,16 0,0 1,0 2,0 0,0 1,0 1,0 2,0 3,0 4,0 0,-9 -3,-17 -6,-23 0,-1 -1,-2 -1,-3 -2,-2 -3,-4 -5,-7 0,0 0,0 0,-1 -1,-1 -2,-2 -3,-2l-1 -2c-1,-1 -2,-1 -3,-2 0,0 1,-2 1,-2 1,0 4,3 5,3l5 7c0,0 1,1 1,1 1,2 2,3 3,5 1,2 2,4 3,7 2,5 4,11 4,17l0 2c0,7 -2,13 -4,19 -1,3 -2,5 -4,8 -1,2 -3,4 -4,7 -1,1 -2,2 -3,3 0,0 0,0 0,0 -1,0 -1,0 -1,0 -1,-1 -1,-1 -1,-1 0,-1 1,-2 1,-2 2,-2 3,-4 4,-6l3 -5c0,-1 1,-1 1,-1 0,-1 0,-1 0,-1 1,-1 1,-2 1,-3 1,0 1,-1 1,-2 0,-1 1,-1 1,-2 1,-4 2,-9 2,-14 -2,0 -5,0 -7,0 0,4 -1,7 -1,9 -1,3 -3,8 -4,11l-1 1c-1,2 -2,4 -4,6l-2 3 -1 -1c0,0 -1,-1 -1,-1 0,0 0,0 0,0 2,-2 3,-4 4,-6 4,-6 7,-14 7,-22 -1,0 -1,0 -2,0l-5 0c0,0 0,0 0,0 0,6 -1,10 -3,14 0,1 -1,1 -1,1 0,1 -3,7 -4,7 0,0 0,0 0,0l-2 -1c0,-1 1,-2 1,-2 1,-1 2,-2 2,-3 2,-5 4,-10 4,-16 -1,0 -1,0 -2,0 0,0 -1,0 -1,0 -2,0 -2,0 -4,0 0,3 0,6 -1,8 -1,1 -1,2 -2,3 0,1 -1,2 -1,3 -1,0 -2,-2 -2,-2 0,0 1,-2 1,-2 2,-3 3,-6 3,-10 -4,0 -7,0 -11,0 -1,0 -1,0 -2,0l0 23c-1,0 -1,0 -2,0 0,0 0,0 0,1 0,2 0,2 -1,2 -3,1 -3,0 -7,1 0,0 0,0 -1,0 0,0 0,0 -1,0 0,0 0,0 0,0 3,0 6,0 9,0 0,0 1,0 1,-1l0 -3c1,0 3,0 3,1 -1,3 -2,3 -5,3 -1,1 -1,0 -2,1 -2,0 -4,0 -6,0 0,0 0,0 0,1 0,0 0,1 0,1 0,2 0,4 0,6 0,1 0,1 0,1 2,0 5,0 7,-1 2,0 3,-1 5,-2 1,1 1,1 1,2 0,1 0,1 -1,1 -4,2 -8,3 -12,3 0,2 0,3 0,4 0,3 -1,3 1,3 0,0 0,0 1,0 0,0 0,0 1,0 5,0 12,-2 17,-5 0,0 0,0 1,0 0,0 1,2 1,2 0,0 -4,2 -5,3l-2 1c-1,0 -2,0 -3,0 -3,2 -6,2 -9,2 -1,0 -1,0 -2,0 0,0 0,0 -1,0 0,0 0,0 0,0 0,1 -1,2 -1,3 0,1 0,1 0,2 0,0 0,1 0,1 9,0 16,-1 23,-4 0,0 1,-1 1,-1l4 -2c0,0 1,2 2,2l-3 2c-4,1 -7,3 -10,4 -10,3 -22,3 -32,0 -2,-1 -5,-2 -7,-3 -1,0 -2,-1 -3,-1l-3 -2c0,0 0,-1 0,-1 1,0 1,-1 1,-1 0,0 1,0 1,1 2,0 3,1 5,2 2,1 4,1 6,2 4,1 7,2 11,2l4 0c0,-2 0,-4 0,-6 -2,0 -4,0 -6,-1 -3,0 -5,-1 -8,-2 -1,0 -2,0 -2,-1 -1,0 -1,0 -2,0l-2 -1c0,0 -1,-1 -1,-1 0,0 1,-2 1,-2 2,0 3,1 5,2 3,1 6,2 9,3 2,0 4,0 6,0 0,0 0,-1 0,-2 0,0 0,-1 0,-1 0,-1 0,-1 0,-1l0 -2c0,-1 1,-1 1,-1 -4,0 -7,-1 -10,-2 -1,0 -3,-1 -4,-2 0,0 1,-1 1,-2 0,0 1,0 1,1 4,1 7,2 12,2 0,-1 0,-3 0,-5 0,0 0,0 0,-1l0 -3c-3,0 -6,0 -9,-1 -3,0 -4,0 -4,-3 -1,-1 -1,-1 0,-1 1,0 2,0 2,0 0,1 0,2 0,3 1,1 2,1 3,1l2 0c1,0 1,0 2,0 0,0 0,0 1,0 1,0 2,0 3,0 0,0 0,0 0,0 -1,0 -2,0 -3,0 -1,0 -2,-1 -3,-1 -1,0 -4,0 -5,0 0,-1 1,-2 1,-3l-3 0 0 -23c-1,0 -1,0 -2,0 0,0 -1,0 -1,0 -1,0 -3,0 -4,0 0,0 -2,0 -3,0 0,0 -1,0 -1,0 -1,0 -1,0 -2,0 0,1 0,1 0,1 0,2 0,3 0,4 1,1 1,2 1,3 0,0 0,1 0,1 1,1 2,3 2,4 0,0 -1,1 -2,1 0,0 -4,-5 -4,-12l0 -2 -6 0c0,0 0,0 0,1 0,5 0,8 2,12 1,3 2,5 3,7 0,1 0,1 0,1 0,1 -1,1 -2,2 0,-1 0,-1 -1,-1 -1,-3 -2,-6 -3,-8 -1,-4 -2,-8 -2,-13 0,0 0,-1 0,-1 -2,0 -5,0 -7,0 0,1 0,1 0,2 0,1 0,1 0,1 0,2 0,4 0,5 1,3 1,5 2,8 1,0 1,1 1,1 1,4 3,7 5,9 0,1 1,1 1,2 0,0 -1,0 -1,1 0,0 -1,0 -1,0 0,0 -1,0 -1,0 -2,-3 -4,-6 -5,-10 0,0 0,0 0,0 -1,-1 -1,-2 -1,-2 -1,-3 -2,-5 -2,-8 -1,-1 -1,-3 -1,-4l0 -3c0,0 0,-1 0,-2l-7 0c0,5 0,8 1,13 1,1 1,3 1,4 1,1 1,2 1,2 0,1 1,1 1,2 0,1 1,3 2,4 0,1 1,2 1,3 1,1 1,2 1,2l4 5c-1,0 -2,1 -3,2 0,-1 0,-2 -1,-2 -4,-7 -7,-13 -9,-22 -2,-4 -2,-8 -2,-12 0,-5 1,-10 3,-15 0,-2 1,-4 2,-6 0,-1 1,-1 1,-2 0,-1 0,-1 1,-1 0,0 0,-1 0,-1l1 -2c1,-2 2,-3 3,-4 0,-1 1,-1 1,-1 1,-2 2,-3 4,-5 0,-1 1,-2 2,-2 1,-1 2,-2 3,-3 0,0 2,-1 2,-1 1,0 1,0 1,0 0,1 1,1 1,2 -1,1 -2,1 -3,2 0,0 -1,0 -1,0l-4 4 -3 4c-1,2 -3,5 -4,6l-2 4c-2,4 -3,8 -4,13 0,1 -1,2 -1,3 0,0 0,1 0,2 0,0 0,1 0,1 1,0 1,0 2,0 1,0 1,0 2,0l2 0c1,0 1,0 1,0 0,0 0,-1 0,-1 0,-1 1,-3 1,-4 0,-3 1,-5 2,-8 1,-2 2,-4 3,-6 2,-3 4,-5 6,-7l0 -1c1,-1 3,-3 4,-3 0,-1 2,-2 3,-2 0,0 1,1 1,2 -1,0 -2,1 -2,1 -2,1 -3,3 -5,5 -1,2 -3,4 -4,6 -1,1 -1,2 -2,2 -1,2 -1,4 -2,7 -1,1 -1,3 -1,4 -1,1 -1,2 -1,3 0,1 0,2 0,2 1,0 1,1 2,1 0,0 1,0 2,0 0,0 1,0 1,0 1,0 2,0 2,0 0,-1 0,-1 0,-1 1,-3 1,-5 2,-7 1,-4 3,-8 5,-11 1,-1 3,-4 5,-5 0,1 1,2 1,3 0,0 0,0 -1,0 -1,1 -3,3 -4,5 -2,4 -4,8 -4,12 -1,1 -1,2 -1,2l0 2c2,0 4,0 6,0 1,-1 1,-1 1,-1 0,-1 0,-3 0,-4 1,0 1,-1 1,-2 1,-2 2,-3 3,-5 0,0 2,-2 3,-3 0,1 1,2 1,3 0,0 -1,0 -1,1 0,0 0,0 -1,0l-1 2c-1,2 -2,4 -2,5 0,1 -1,3 -1,4 2,0 5,0 7,0 2,0 4,0 6,0l0 -41 -2 0c0,0 -1,0 -1,-1 1,0 2,-1 3,-1l0 -8c0,-1 1,-1 1,-1 0,0 1,1 1,1 2,0 2,-1 3,-2 0,-1 1,-2 1,-3 1,0 2,0 3,-1 1,0 2,0 3,0 0,0 0,0 0,0 -1,0 -1,0 -2,0 -1,0 -2,0 -3,1 -2,0 -3,0 -4,1 -1,0 -1,0 -2,1 0,1 0,1 0,2 0,0 0,0 -1,0 0,0 0,0 0,0 0,-1 1,-3 1,-4 1,-1 3,-2 5,-2 2,0 4,0 7,0zm11 77c-1,0 -2,0 -2,-1l0 -43c0,-1 2,-1 2,0 1,0 1,3 1,4 0,1 0,4 0,5 0,3 0,34 -1,34 0,1 0,1 0,1zm-21 -18l0 7c0,1 0,1 0,2 0,1 0,2 0,3 0,1 1,6 -1,6 -1,0 -1,-1 -1,-2l0 -40c0,-1 0,-2 0,-2 0,-1 0,-1 1,-1 2,0 1,4 1,6 0,2 0,5 0,7 0,2 0,5 0,7 0,2 0,5 0,7zm19 -28c0,-3 0,-5 0,-7l0 5c0,0 0,1 0,1 0,1 0,0 0,1zm3 -2l0 0c0,0 -1,-1 0,-1 0,0 0,1 0,1zm-25 0c0,-1 0,-1 0,-1 1,0 1,0 1,1 0,0 0,0 -1,0l0 0zm0 -11l1 -1 0 0c1,1 1,8 1,10 1,1 1,3 0,3 -1,0 -1,-2 -1,-3 0,0 0,-1 0,-1 0,-1 0,-1 0,-2l-1 -6zm25 1c0,2 0,2 0,4l0 2c0,1 -1,5 -2,5 -1,0 0,-4 0,-5 0,-3 0,-2 0,-6 0,0 1,-1 1,-1 0,-1 0,-1 0,-1 0,0 0,-1 0,-1 0,0 0,0 1,0 0,1 0,1 0,1 0,1 0,1 0,2zm-24 -3l0 0c0,0 0,0 0,0zm-1 -1l1 0 0 0 -1 0 0 0zm12 -5l6 0c6,1 6,2 5,8 0,2 -1,4 -1,6l0 0c0,-1 0,-2 0,-3l-9 -1c-1,0 -2,1 -3,1 0,0 -1,0 -2,0l-4 0c0,0 0,0 -1,0l0 1c0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,-1 -1,-7 -1,-8 0,0 0,-1 0,-2 1,-1 1,-1 2,-1 3,-1 5,-1 8,-1zm-5 -8l1 0c1,-1 3,0 5,0 1,0 1,-1 3,0 1,0 2,0 2,0 0,0 -3,0 -4,0 0,0 -2,0 -2,0 -2,0 -3,0 -4,0 0,0 0,0 -1,0z',
                              scale: 0.5,
                              fillColor: 'green',
                              fillOpacity: 1,
                              rotation: direction,
                              anchor: new google.maps.Point(25, 50)
                            })   
                          }
                          else if ((latLonList[i].GPS == "1")) 
                          {
                            marker2.setIcon(
                            {
                              path: 'M55 84c1,-1 1,0 2,0 1,0 1,0 2,0l10 0c0,0 0,0 1,0 1,0 2,-1 2,0 2,2 -3,1 -5,1 -1,0 -1,0 -1,0 -1,0 -1,1 -2,1l-2 0c0,0 -1,0 -1,0 -2,0 -4,-1 -5,-1 -2,0 -1,-1 -1,-1zm9 -79l0 0c2,0 4,0 6,0 2,1 4,1 5,2 1,2 1,2 1,4 0,0 0,0 -1,0 0,-1 0,-1 0,-2 -1,-1 -3,-2 -4,-2 -2,0 -4,-1 -5,-1 -2,0 -2,0 -2,0 1,0 5,0 6,1 0,0 0,0 0,1 1,1 3,5 5,3 0,0 0,0 0,0 1,0 1,0 1,1 0,1 0,2 0,3 0,1 0,1 1,1 0,2 -1,3 -1,4 1,0 2,1 2,1 0,0 1,0 1,0 0,1 0,1 -1,1 0,0 -1,0 -1,0 -1,0 0,0 -1,-1 0,1 0,1 0,1 0,1 0,1 0,2 0,0 0,0 0,1l0 37c3,0 5,0 7,0 1,0 2,0 3,0 0,0 1,0 1,0 1,0 1,1 2,1 0,-4 -1,-8 -3,-11l-1 -1c0,-1 -1,-1 -1,-1 0,-1 0,-1 1,-1 0,-1 0,-1 0,-1 1,0 1,0 2,1 0,0 0,0 0,1 1,0 1,0 1,0l1 2c1,3 2,6 2,11 1,0 1,0 1,0 0,0 1,0 1,0l5 0c0,-3 -1,-5 -1,-7 -1,-3 -1,-5 -2,-7 -1,-2 -2,-4 -4,-6 0,-1 -1,-2 -1,-2 0,-1 1,-1 1,-2 1,0 2,2 2,2 2,2 4,5 5,8 0,1 0,2 1,3 1,3 2,7 2,11 0,0 1,0 1,0 1,0 2,0 2,0 1,0 2,0 2,0l2 0c0,-4 -1,-7 -1,-10 -1,-2 -1,-3 -2,-4 0,-2 -1,-4 -2,-4l-1 -3c-1,-1 -1,-2 -2,-3 -1,-2 -4,-6 -7,-7 0,-1 1,-1 1,-1 0,-1 1,-1 1,-2 1,1 2,2 3,3l2 3c2,2 4,5 6,8 0,1 0,2 1,2l1 2c2,6 3,10 3,16 0,0 1,0 2,0 0,0 1,0 1,0 2,0 3,0 4,0 0,-9 -3,-17 -6,-23 0,-1 -1,-2 -1,-3 -2,-2 -3,-4 -5,-7 0,0 0,0 0,-1 -1,-1 -2,-2 -3,-2l-1 -2c-1,-1 -2,-1 -3,-2 0,0 1,-2 1,-2 1,0 4,3 5,3l5 7c0,0 1,1 1,1 1,2 2,3 3,5 1,2 2,4 3,7 2,5 4,11 4,17l0 2c0,7 -2,13 -4,19 -1,3 -2,5 -4,8 -1,2 -3,4 -4,7 -1,1 -2,2 -3,3 0,0 0,0 0,0 -1,0 -1,0 -1,0 -1,-1 -1,-1 -1,-1 0,-1 1,-2 1,-2 2,-2 3,-4 4,-6l3 -5c0,-1 1,-1 1,-1 0,-1 0,-1 0,-1 1,-1 1,-2 1,-3 1,0 1,-1 1,-2 0,-1 1,-1 1,-2 1,-4 2,-9 2,-14 -2,0 -5,0 -7,0 0,4 -1,7 -1,9 -1,3 -3,8 -4,11l-1 1c-1,2 -2,4 -4,6l-2 3 -1 -1c0,0 -1,-1 -1,-1 0,0 0,0 0,0 2,-2 3,-4 4,-6 4,-6 7,-14 7,-22 -1,0 -1,0 -2,0l-5 0c0,0 0,0 0,0 0,6 -1,10 -3,14 0,1 -1,1 -1,1 0,1 -3,7 -4,7 0,0 0,0 0,0l-2 -1c0,-1 1,-2 1,-2 1,-1 2,-2 2,-3 2,-5 4,-10 4,-16 -1,0 -1,0 -2,0 0,0 -1,0 -1,0 -2,0 -2,0 -4,0 0,3 0,6 -1,8 -1,1 -1,2 -2,3 0,1 -1,2 -1,3 -1,0 -2,-2 -2,-2 0,0 1,-2 1,-2 2,-3 3,-6 3,-10 -4,0 -7,0 -11,0 -1,0 -1,0 -2,0l0 23c-1,0 -1,0 -2,0 0,0 0,0 0,1 0,2 0,2 -1,2 -3,1 -3,0 -7,1 0,0 0,0 -1,0 0,0 0,0 -1,0 0,0 0,0 0,0 3,0 6,0 9,0 0,0 1,0 1,-1l0 -3c1,0 3,0 3,1 -1,3 -2,3 -5,3 -1,1 -1,0 -2,1 -2,0 -4,0 -6,0 0,0 0,0 0,1 0,0 0,1 0,1 0,2 0,4 0,6 0,1 0,1 0,1 2,0 5,0 7,-1 2,0 3,-1 5,-2 1,1 1,1 1,2 0,1 0,1 -1,1 -4,2 -8,3 -12,3 0,2 0,3 0,4 0,3 -1,3 1,3 0,0 0,0 1,0 0,0 0,0 1,0 5,0 12,-2 17,-5 0,0 0,0 1,0 0,0 1,2 1,2 0,0 -4,2 -5,3l-2 1c-1,0 -2,0 -3,0 -3,2 -6,2 -9,2 -1,0 -1,0 -2,0 0,0 0,0 -1,0 0,0 0,0 0,0 0,1 -1,2 -1,3 0,1 0,1 0,2 0,0 0,1 0,1 9,0 16,-1 23,-4 0,0 1,-1 1,-1l4 -2c0,0 1,2 2,2l-3 2c-4,1 -7,3 -10,4 -10,3 -22,3 -32,0 -2,-1 -5,-2 -7,-3 -1,0 -2,-1 -3,-1l-3 -2c0,0 0,-1 0,-1 1,0 1,-1 1,-1 0,0 1,0 1,1 2,0 3,1 5,2 2,1 4,1 6,2 4,1 7,2 11,2l4 0c0,-2 0,-4 0,-6 -2,0 -4,0 -6,-1 -3,0 -5,-1 -8,-2 -1,0 -2,0 -2,-1 -1,0 -1,0 -2,0l-2 -1c0,0 -1,-1 -1,-1 0,0 1,-2 1,-2 2,0 3,1 5,2 3,1 6,2 9,3 2,0 4,0 6,0 0,0 0,-1 0,-2 0,0 0,-1 0,-1 0,-1 0,-1 0,-1l0 -2c0,-1 1,-1 1,-1 -4,0 -7,-1 -10,-2 -1,0 -3,-1 -4,-2 0,0 1,-1 1,-2 0,0 1,0 1,1 4,1 7,2 12,2 0,-1 0,-3 0,-5 0,0 0,0 0,-1l0 -3c-3,0 -6,0 -9,-1 -3,0 -4,0 -4,-3 -1,-1 -1,-1 0,-1 1,0 2,0 2,0 0,1 0,2 0,3 1,1 2,1 3,1l2 0c1,0 1,0 2,0 0,0 0,0 1,0 1,0 2,0 3,0 0,0 0,0 0,0 -1,0 -2,0 -3,0 -1,0 -2,-1 -3,-1 -1,0 -4,0 -5,0 0,-1 1,-2 1,-3l-3 0 0 -23c-1,0 -1,0 -2,0 0,0 -1,0 -1,0 -1,0 -3,0 -4,0 0,0 -2,0 -3,0 0,0 -1,0 -1,0 -1,0 -1,0 -2,0 0,1 0,1 0,1 0,2 0,3 0,4 1,1 1,2 1,3 0,0 0,1 0,1 1,1 2,3 2,4 0,0 -1,1 -2,1 0,0 -4,-5 -4,-12l0 -2 -6 0c0,0 0,0 0,1 0,5 0,8 2,12 1,3 2,5 3,7 0,1 0,1 0,1 0,1 -1,1 -2,2 0,-1 0,-1 -1,-1 -1,-3 -2,-6 -3,-8 -1,-4 -2,-8 -2,-13 0,0 0,-1 0,-1 -2,0 -5,0 -7,0 0,1 0,1 0,2 0,1 0,1 0,1 0,2 0,4 0,5 1,3 1,5 2,8 1,0 1,1 1,1 1,4 3,7 5,9 0,1 1,1 1,2 0,0 -1,0 -1,1 0,0 -1,0 -1,0 0,0 -1,0 -1,0 -2,-3 -4,-6 -5,-10 0,0 0,0 0,0 -1,-1 -1,-2 -1,-2 -1,-3 -2,-5 -2,-8 -1,-1 -1,-3 -1,-4l0 -3c0,0 0,-1 0,-2l-7 0c0,5 0,8 1,13 1,1 1,3 1,4 1,1 1,2 1,2 0,1 1,1 1,2 0,1 1,3 2,4 0,1 1,2 1,3 1,1 1,2 1,2l4 5c-1,0 -2,1 -3,2 0,-1 0,-2 -1,-2 -4,-7 -7,-13 -9,-22 -2,-4 -2,-8 -2,-12 0,-5 1,-10 3,-15 0,-2 1,-4 2,-6 0,-1 1,-1 1,-2 0,-1 0,-1 1,-1 0,0 0,-1 0,-1l1 -2c1,-2 2,-3 3,-4 0,-1 1,-1 1,-1 1,-2 2,-3 4,-5 0,-1 1,-2 2,-2 1,-1 2,-2 3,-3 0,0 2,-1 2,-1 1,0 1,0 1,0 0,1 1,1 1,2 -1,1 -2,1 -3,2 0,0 -1,0 -1,0l-4 4 -3 4c-1,2 -3,5 -4,6l-2 4c-2,4 -3,8 -4,13 0,1 -1,2 -1,3 0,0 0,1 0,2 0,0 0,1 0,1 1,0 1,0 2,0 1,0 1,0 2,0l2 0c1,0 1,0 1,0 0,0 0,-1 0,-1 0,-1 1,-3 1,-4 0,-3 1,-5 2,-8 1,-2 2,-4 3,-6 2,-3 4,-5 6,-7l0 -1c1,-1 3,-3 4,-3 0,-1 2,-2 3,-2 0,0 1,1 1,2 -1,0 -2,1 -2,1 -2,1 -3,3 -5,5 -1,2 -3,4 -4,6 -1,1 -1,2 -2,2 -1,2 -1,4 -2,7 -1,1 -1,3 -1,4 -1,1 -1,2 -1,3 0,1 0,2 0,2 1,0 1,1 2,1 0,0 1,0 2,0 0,0 1,0 1,0 1,0 2,0 2,0 0,-1 0,-1 0,-1 1,-3 1,-5 2,-7 1,-4 3,-8 5,-11 1,-1 3,-4 5,-5 0,1 1,2 1,3 0,0 0,0 -1,0 -1,1 -3,3 -4,5 -2,4 -4,8 -4,12 -1,1 -1,2 -1,2l0 2c2,0 4,0 6,0 1,-1 1,-1 1,-1 0,-1 0,-3 0,-4 1,0 1,-1 1,-2 1,-2 2,-3 3,-5 0,0 2,-2 3,-3 0,1 1,2 1,3 0,0 -1,0 -1,1 0,0 0,0 -1,0l-1 2c-1,2 -2,4 -2,5 0,1 -1,3 -1,4 2,0 5,0 7,0 2,0 4,0 6,0l0 -41 -2 0c0,0 -1,0 -1,-1 1,0 2,-1 3,-1l0 -8c0,-1 1,-1 1,-1 0,0 1,1 1,1 2,0 2,-1 3,-2 0,-1 1,-2 1,-3 1,0 2,0 3,-1 1,0 2,0 3,0 0,0 0,0 0,0 -1,0 -1,0 -2,0 -1,0 -2,0 -3,1 -2,0 -3,0 -4,1 -1,0 -1,0 -2,1 0,1 0,1 0,2 0,0 0,0 -1,0 0,0 0,0 0,0 0,-1 1,-3 1,-4 1,-1 3,-2 5,-2 2,0 4,0 7,0zm11 77c-1,0 -2,0 -2,-1l0 -43c0,-1 2,-1 2,0 1,0 1,3 1,4 0,1 0,4 0,5 0,3 0,34 -1,34 0,1 0,1 0,1zm-21 -18l0 7c0,1 0,1 0,2 0,1 0,2 0,3 0,1 1,6 -1,6 -1,0 -1,-1 -1,-2l0 -40c0,-1 0,-2 0,-2 0,-1 0,-1 1,-1 2,0 1,4 1,6 0,2 0,5 0,7 0,2 0,5 0,7 0,2 0,5 0,7zm19 -28c0,-3 0,-5 0,-7l0 5c0,0 0,1 0,1 0,1 0,0 0,1zm3 -2l0 0c0,0 -1,-1 0,-1 0,0 0,1 0,1zm-25 0c0,-1 0,-1 0,-1 1,0 1,0 1,1 0,0 0,0 -1,0l0 0zm0 -11l1 -1 0 0c1,1 1,8 1,10 1,1 1,3 0,3 -1,0 -1,-2 -1,-3 0,0 0,-1 0,-1 0,-1 0,-1 0,-2l-1 -6zm25 1c0,2 0,2 0,4l0 2c0,1 -1,5 -2,5 -1,0 0,-4 0,-5 0,-3 0,-2 0,-6 0,0 1,-1 1,-1 0,-1 0,-1 0,-1 0,0 0,-1 0,-1 0,0 0,0 1,0 0,1 0,1 0,1 0,1 0,1 0,2zm-24 -3l0 0c0,0 0,0 0,0zm-1 -1l1 0 0 0 -1 0 0 0zm12 -5l6 0c6,1 6,2 5,8 0,2 -1,4 -1,6l0 0c0,-1 0,-2 0,-3l-9 -1c-1,0 -2,1 -3,1 0,0 -1,0 -2,0l-4 0c0,0 0,0 -1,0l0 1c0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,-1 -1,-7 -1,-8 0,0 0,-1 0,-2 1,-1 1,-1 2,-1 3,-1 5,-1 8,-1zm-5 -8l1 0c1,-1 3,0 5,0 1,0 1,-1 3,0 1,0 2,0 2,0 0,0 -3,0 -4,0 0,0 -2,0 -2,0 -2,0 -3,0 -4,0 0,0 0,0 -1,0z',
                              scale: 0.5,
                              fillColor: 'red',
                              fillOpacity: 1,
                              rotation: direction,
                              anchor: new google.maps.Point(25, 50)
                             })   
                          }
                          else if ((latLonList[i].GPS == "3" && latLonList[i].movement == "B")) 
                          {
                            marker2.setIcon(
                            {
                              path: 'M201 445c5,-1 6,0 12,0 4,1 6,1 10,1l55 0c2,0 3,-1 5,-1 7,0 10,-1 15,0 5,12 -19,10 -30,10 -3,0 -4,1 -7,1 -3,0 -5,0 -7,0l-14 0c-2,0 -5,0 -7,0 -7,0 -21,-1 -27,-3 -7,-2 -6,-3 -5,-8zm48 -431l1 0c11,0 25,1 36,3 10,1 22,2 27,12 3,6 5,11 5,20 -3,-1 -3,-3 -5,-3 0,-3 -2,-6 -3,-8 -5,-8 -13,-10 -22,-12 -10,-1 -18,-5 -28,-4 -10,0 -8,-2 -10,0 8,0 27,1 34,5 1,1 1,1 1,3 2,7 15,28 25,20 1,0 2,-2 2,-3 3,0 5,2 6,5 1,5 1,14 1,20 0,2 1,2 1,5 0,8 -1,15 -1,23 3,0 6,0 8,1 2,1 6,2 6,4 0,6 0,6 -6,5 -2,-1 -2,-1 -4,-1 -5,-2 -3,-2 -6,-4 0,2 2,1 2,5 0,2 0,5 0,7 0,3 0,4 0,7l0 205 0 1 0 127c-5,0 -9,0 -14,0 0,2 0,2 0,4 0,12 1,13 -2,13 -20,4 -18,3 -38,4 -3,0 -4,1 -7,0 -1,0 -4,0 -6,0 1,1 1,1 1,3 16,0 31,0 47,-3 2,0 6,0 6,-2l-1 -17c7,0 17,-2 16,4 -2,16 -11,19 -26,20 -3,0 -7,0 -10,0l-33 1 -2 0c-16,0 -33,1 -49,-1 -13,-2 -23,-3 -23,-19 -1,-5 -3,-5 4,-5 4,0 6,0 11,0 0,6 -1,12 -1,18 3,1 9,2 13,2l14 1c3,0 6,0 8,0 2,0 4,1 7,1 5,0 10,0 15,0 0,-1 0,-2 1,-3 -5,0 -10,0 -16,0 -4,0 -9,-1 -14,-1 -6,0 -23,-2 -27,-3 0,-6 1,-11 1,-18l-14 1 0 -122 0 -2 0 -225 -13 2c0,-1 -1,-4 -1,-6 6,-3 7,-4 14,-4l1 -47c0,-3 2,-4 4,-6 2,1 4,5 7,5 8,0 11,-5 15,-10 2,-3 7,-10 7,-15 6,-2 8,-3 16,-4 5,0 11,-1 18,-1 -2,-2 -2,-1 -5,-1 -2,1 -4,0 -6,1 -8,0 -13,1 -21,3 -6,2 -12,1 -19,5 -5,3 -6,4 -9,9 -4,7 0,5 -4,8 -1,1 -1,1 -2,1 0,1 -1,1 -1,1 0,-7 2,-15 5,-20 6,-10 17,-11 27,-12 12,-2 24,-3 36,-3zm60 423c-4,0 -7,-1 -7,-7l0 -232c0,-9 9,-10 12,-5 2,6 0,19 1,23 1,7 -1,22 -1,31 0,13 1,182 0,186 -1,2 -2,4 -5,4zm-112 -97l0 37c0,3 0,5 0,8 0,6 0,12 0,17 0,6 5,34 -5,34 -6,0 -7,-5 -7,-13l0 -218c0,-3 0,-8 1,-10 0,-3 2,-5 5,-5 10,0 6,23 6,32 0,13 0,26 0,39 0,13 0,25 0,39 0,13 0,26 0,40zm104 -157c0,-13 0,-25 0,-37l1 29c0,1 1,5 0,6 0,2 1,1 -1,2zm16 -7l-3 0c0,-4 0,-6 2,-7 2,1 2,6 1,7zm-136 -4c0,-1 1,-1 1,-3 3,0 3,1 3,6 0,2 -2,2 -4,2l0 -5zm2 -59l0 -7 5 0c3,7 5,44 5,54 1,6 3,18 -2,18 -6,0 -5,-9 -6,-13 0,-2 0,-6 0,-8 -1,-3 -1,-6 -1,-9l-1 -35zm133 6c0,10 -1,12 -1,22l-1 14c0,3 0,23 -6,23 -7,0 -3,-22 -3,-27 1,-18 0,-12 3,-30 0,-3 1,-6 1,-9 1,-2 1,-3 1,-4 1,-2 1,-3 3,-3 1,-2 0,-1 3,-1 0,3 -1,4 -1,7 0,3 1,4 1,8zm-131 -16l0 0c0,0 0,0 0,0zm-2 -3l2 0 0 0 -2 0 0 0zm64 -30l33 2c33,5 32,9 26,40 -1,11 -4,21 -4,33l0 0c0,-6 -1,-9 -1,-13l-51 -5c-3,0 -10,1 -13,1 -3,1 -6,0 -13,1l-20 2c-2,0 -4,0 -7,0l0 6c0,0 0,-1 0,-1 0,0 0,0 0,0 -1,-2 1,2 0,-1 -2,-4 -7,-37 -8,-40 0,-5 0,-10 3,-14 2,-3 6,-5 10,-6 14,-3 30,-5 45,-5zm-27 -42l3 -2c8,-2 19,-1 27,-1 8,0 6,-1 17,0 4,0 12,1 14,4 -4,0 -17,-2 -22,-3 -2,0 -13,0 -15,0 -7,1 -13,1 -20,1 -2,0 -2,1 -4,1z',
                              scale: 0.5,
                              fillColor: 'green',
                              fillOpacity: 1,
                              rotation: direction,
                              anchor: new google.maps.Point(25, 50)
                            })   
                          }
                          else  
                          {
                            marker2.setIcon(
                            {
                              path: 'M201 445c5,-1 6,0 12,0 4,1 6,1 10,1l55 0c2,0 3,-1 5,-1 7,0 10,-1 15,0 5,12 -19,10 -30,10 -3,0 -4,1 -7,1 -3,0 -5,0 -7,0l-14 0c-2,0 -5,0 -7,0 -7,0 -21,-1 -27,-3 -7,-2 -6,-3 -5,-8zm48 -431l1 0c11,0 25,1 36,3 10,1 22,2 27,12 3,6 5,11 5,20 -3,-1 -3,-3 -5,-3 0,-3 -2,-6 -3,-8 -5,-8 -13,-10 -22,-12 -10,-1 -18,-5 -28,-4 -10,0 -8,-2 -10,0 8,0 27,1 34,5 1,1 1,1 1,3 2,7 15,28 25,20 1,0 2,-2 2,-3 3,0 5,2 6,5 1,5 1,14 1,20 0,2 1,2 1,5 0,8 -1,15 -1,23 3,0 6,0 8,1 2,1 6,2 6,4 0,6 0,6 -6,5 -2,-1 -2,-1 -4,-1 -5,-2 -3,-2 -6,-4 0,2 2,1 2,5 0,2 0,5 0,7 0,3 0,4 0,7l0 205 0 1 0 127c-5,0 -9,0 -14,0 0,2 0,2 0,4 0,12 1,13 -2,13 -20,4 -18,3 -38,4 -3,0 -4,1 -7,0 -1,0 -4,0 -6,0 1,1 1,1 1,3 16,0 31,0 47,-3 2,0 6,0 6,-2l-1 -17c7,0 17,-2 16,4 -2,16 -11,19 -26,20 -3,0 -7,0 -10,0l-33 1 -2 0c-16,0 -33,1 -49,-1 -13,-2 -23,-3 -23,-19 -1,-5 -3,-5 4,-5 4,0 6,0 11,0 0,6 -1,12 -1,18 3,1 9,2 13,2l14 1c3,0 6,0 8,0 2,0 4,1 7,1 5,0 10,0 15,0 0,-1 0,-2 1,-3 -5,0 -10,0 -16,0 -4,0 -9,-1 -14,-1 -6,0 -23,-2 -27,-3 0,-6 1,-11 1,-18l-14 1 0 -122 0 -2 0 -225 -13 2c0,-1 -1,-4 -1,-6 6,-3 7,-4 14,-4l1 -47c0,-3 2,-4 4,-6 2,1 4,5 7,5 8,0 11,-5 15,-10 2,-3 7,-10 7,-15 6,-2 8,-3 16,-4 5,0 11,-1 18,-1 -2,-2 -2,-1 -5,-1 -2,1 -4,0 -6,1 -8,0 -13,1 -21,3 -6,2 -12,1 -19,5 -5,3 -6,4 -9,9 -4,7 0,5 -4,8 -1,1 -1,1 -2,1 0,1 -1,1 -1,1 0,-7 2,-15 5,-20 6,-10 17,-11 27,-12 12,-2 24,-3 36,-3zm60 423c-4,0 -7,-1 -7,-7l0 -232c0,-9 9,-10 12,-5 2,6 0,19 1,23 1,7 -1,22 -1,31 0,13 1,182 0,186 -1,2 -2,4 -5,4zm-112 -97l0 37c0,3 0,5 0,8 0,6 0,12 0,17 0,6 5,34 -5,34 -6,0 -7,-5 -7,-13l0 -218c0,-3 0,-8 1,-10 0,-3 2,-5 5,-5 10,0 6,23 6,32 0,13 0,26 0,39 0,13 0,25 0,39 0,13 0,26 0,40zm104 -157c0,-13 0,-25 0,-37l1 29c0,1 1,5 0,6 0,2 1,1 -1,2zm16 -7l-3 0c0,-4 0,-6 2,-7 2,1 2,6 1,7zm-136 -4c0,-1 1,-1 1,-3 3,0 3,1 3,6 0,2 -2,2 -4,2l0 -5zm2 -59l0 -7 5 0c3,7 5,44 5,54 1,6 3,18 -2,18 -6,0 -5,-9 -6,-13 0,-2 0,-6 0,-8 -1,-3 -1,-6 -1,-9l-1 -35zm133 6c0,10 -1,12 -1,22l-1 14c0,3 0,23 -6,23 -7,0 -3,-22 -3,-27 1,-18 0,-12 3,-30 0,-3 1,-6 1,-9 1,-2 1,-3 1,-4 1,-2 1,-3 3,-3 1,-2 0,-1 3,-1 0,3 -1,4 -1,7 0,3 1,4 1,8zm-131 -16l0 0c0,0 0,0 0,0zm-2 -3l2 0 0 0 -2 0 0 0zm64 -30l33 2c33,5 32,9 26,40 -1,11 -4,21 -4,33l0 0c0,-6 -1,-9 -1,-13l-51 -5c-3,0 -10,1 -13,1 -3,1 -6,0 -13,1l-20 2c-2,0 -4,0 -7,0l0 6c0,0 0,-1 0,-1 0,0 0,0 0,0 -1,-2 1,2 0,-1 -2,-4 -7,-37 -8,-40 0,-5 0,-10 3,-14 2,-3 6,-5 10,-6 14,-3 30,-5 45,-5zm-27 -42l3 -2c8,-2 19,-1 27,-1 8,0 6,-1 17,0 4,0 12,1 14,4 -4,0 -17,-2 -22,-3 -2,0 -13,0 -15,0 -7,1 -13,1 -20,1 -2,0 -2,1 -4,1z',
                              scale: 0.5,
                              fillColor: 'red',
                              fillOpacity: 1,
                              rotation: direction,
                              anchor: new google.maps.Point(25, 50)
                            })   
                          }
                        
                         

                          if ((latLonList[i].lat == latLonList[i-1].lat && latLonList[i].lon == latLonList[i-1].lon))
                          {
                            marker2.setPosition(myLatlng);
                                  marker2.icon.rotation = direction;
                           marker2.setMap(map);
                          }
                          else
                          {
                              old_lat = latLonList[i-1].lat;
                              old_lon = latLonList[i-1].lon;
                              deltaLat = (latLonList[i].lat - old_lat)/100;
                              deltaLng = (latLonList[i].lon - old_lon)/100;
                                    marker2.icon.rotation = direction;
                           marker2.setMap(map);
                              moveMarker();
                          }
                        
                        }
                        else
                        {
                          if ((latLonList[i].GPS == "1" && latLonList[i].movement == "B")) 
                          {
                            marker2 = new google.maps.Marker(
                            {
                              position: myLatlng,
                              map: map,
                              title: 'Client 2',
                              icon : 
                              {
                                path: 'M55 84c1,-1 1,0 2,0 1,0 1,0 2,0l10 0c0,0 0,0 1,0 1,0 2,-1 2,0 2,2 -3,1 -5,1 -1,0 -1,0 -1,0 -1,0 -1,1 -2,1l-2 0c0,0 -1,0 -1,0 -2,0 -4,-1 -5,-1 -2,0 -1,-1 -1,-1zm9 -79l0 0c2,0 4,0 6,0 2,1 4,1 5,2 1,2 1,2 1,4 0,0 0,0 -1,0 0,-1 0,-1 0,-2 -1,-1 -3,-2 -4,-2 -2,0 -4,-1 -5,-1 -2,0 -2,0 -2,0 1,0 5,0 6,1 0,0 0,0 0,1 1,1 3,5 5,3 0,0 0,0 0,0 1,0 1,0 1,1 0,1 0,2 0,3 0,1 0,1 1,1 0,2 -1,3 -1,4 1,0 2,1 2,1 0,0 1,0 1,0 0,1 0,1 -1,1 0,0 -1,0 -1,0 -1,0 0,0 -1,-1 0,1 0,1 0,1 0,1 0,1 0,2 0,0 0,0 0,1l0 37c3,0 5,0 7,0 1,0 2,0 3,0 0,0 1,0 1,0 1,0 1,1 2,1 0,-4 -1,-8 -3,-11l-1 -1c0,-1 -1,-1 -1,-1 0,-1 0,-1 1,-1 0,-1 0,-1 0,-1 1,0 1,0 2,1 0,0 0,0 0,1 1,0 1,0 1,0l1 2c1,3 2,6 2,11 1,0 1,0 1,0 0,0 1,0 1,0l5 0c0,-3 -1,-5 -1,-7 -1,-3 -1,-5 -2,-7 -1,-2 -2,-4 -4,-6 0,-1 -1,-2 -1,-2 0,-1 1,-1 1,-2 1,0 2,2 2,2 2,2 4,5 5,8 0,1 0,2 1,3 1,3 2,7 2,11 0,0 1,0 1,0 1,0 2,0 2,0 1,0 2,0 2,0l2 0c0,-4 -1,-7 -1,-10 -1,-2 -1,-3 -2,-4 0,-2 -1,-4 -2,-4l-1 -3c-1,-1 -1,-2 -2,-3 -1,-2 -4,-6 -7,-7 0,-1 1,-1 1,-1 0,-1 1,-1 1,-2 1,1 2,2 3,3l2 3c2,2 4,5 6,8 0,1 0,2 1,2l1 2c2,6 3,10 3,16 0,0 1,0 2,0 0,0 1,0 1,0 2,0 3,0 4,0 0,-9 -3,-17 -6,-23 0,-1 -1,-2 -1,-3 -2,-2 -3,-4 -5,-7 0,0 0,0 0,-1 -1,-1 -2,-2 -3,-2l-1 -2c-1,-1 -2,-1 -3,-2 0,0 1,-2 1,-2 1,0 4,3 5,3l5 7c0,0 1,1 1,1 1,2 2,3 3,5 1,2 2,4 3,7 2,5 4,11 4,17l0 2c0,7 -2,13 -4,19 -1,3 -2,5 -4,8 -1,2 -3,4 -4,7 -1,1 -2,2 -3,3 0,0 0,0 0,0 -1,0 -1,0 -1,0 -1,-1 -1,-1 -1,-1 0,-1 1,-2 1,-2 2,-2 3,-4 4,-6l3 -5c0,-1 1,-1 1,-1 0,-1 0,-1 0,-1 1,-1 1,-2 1,-3 1,0 1,-1 1,-2 0,-1 1,-1 1,-2 1,-4 2,-9 2,-14 -2,0 -5,0 -7,0 0,4 -1,7 -1,9 -1,3 -3,8 -4,11l-1 1c-1,2 -2,4 -4,6l-2 3 -1 -1c0,0 -1,-1 -1,-1 0,0 0,0 0,0 2,-2 3,-4 4,-6 4,-6 7,-14 7,-22 -1,0 -1,0 -2,0l-5 0c0,0 0,0 0,0 0,6 -1,10 -3,14 0,1 -1,1 -1,1 0,1 -3,7 -4,7 0,0 0,0 0,0l-2 -1c0,-1 1,-2 1,-2 1,-1 2,-2 2,-3 2,-5 4,-10 4,-16 -1,0 -1,0 -2,0 0,0 -1,0 -1,0 -2,0 -2,0 -4,0 0,3 0,6 -1,8 -1,1 -1,2 -2,3 0,1 -1,2 -1,3 -1,0 -2,-2 -2,-2 0,0 1,-2 1,-2 2,-3 3,-6 3,-10 -4,0 -7,0 -11,0 -1,0 -1,0 -2,0l0 23c-1,0 -1,0 -2,0 0,0 0,0 0,1 0,2 0,2 -1,2 -3,1 -3,0 -7,1 0,0 0,0 -1,0 0,0 0,0 -1,0 0,0 0,0 0,0 3,0 6,0 9,0 0,0 1,0 1,-1l0 -3c1,0 3,0 3,1 -1,3 -2,3 -5,3 -1,1 -1,0 -2,1 -2,0 -4,0 -6,0 0,0 0,0 0,1 0,0 0,1 0,1 0,2 0,4 0,6 0,1 0,1 0,1 2,0 5,0 7,-1 2,0 3,-1 5,-2 1,1 1,1 1,2 0,1 0,1 -1,1 -4,2 -8,3 -12,3 0,2 0,3 0,4 0,3 -1,3 1,3 0,0 0,0 1,0 0,0 0,0 1,0 5,0 12,-2 17,-5 0,0 0,0 1,0 0,0 1,2 1,2 0,0 -4,2 -5,3l-2 1c-1,0 -2,0 -3,0 -3,2 -6,2 -9,2 -1,0 -1,0 -2,0 0,0 0,0 -1,0 0,0 0,0 0,0 0,1 -1,2 -1,3 0,1 0,1 0,2 0,0 0,1 0,1 9,0 16,-1 23,-4 0,0 1,-1 1,-1l4 -2c0,0 1,2 2,2l-3 2c-4,1 -7,3 -10,4 -10,3 -22,3 -32,0 -2,-1 -5,-2 -7,-3 -1,0 -2,-1 -3,-1l-3 -2c0,0 0,-1 0,-1 1,0 1,-1 1,-1 0,0 1,0 1,1 2,0 3,1 5,2 2,1 4,1 6,2 4,1 7,2 11,2l4 0c0,-2 0,-4 0,-6 -2,0 -4,0 -6,-1 -3,0 -5,-1 -8,-2 -1,0 -2,0 -2,-1 -1,0 -1,0 -2,0l-2 -1c0,0 -1,-1 -1,-1 0,0 1,-2 1,-2 2,0 3,1 5,2 3,1 6,2 9,3 2,0 4,0 6,0 0,0 0,-1 0,-2 0,0 0,-1 0,-1 0,-1 0,-1 0,-1l0 -2c0,-1 1,-1 1,-1 -4,0 -7,-1 -10,-2 -1,0 -3,-1 -4,-2 0,0 1,-1 1,-2 0,0 1,0 1,1 4,1 7,2 12,2 0,-1 0,-3 0,-5 0,0 0,0 0,-1l0 -3c-3,0 -6,0 -9,-1 -3,0 -4,0 -4,-3 -1,-1 -1,-1 0,-1 1,0 2,0 2,0 0,1 0,2 0,3 1,1 2,1 3,1l2 0c1,0 1,0 2,0 0,0 0,0 1,0 1,0 2,0 3,0 0,0 0,0 0,0 -1,0 -2,0 -3,0 -1,0 -2,-1 -3,-1 -1,0 -4,0 -5,0 0,-1 1,-2 1,-3l-3 0 0 -23c-1,0 -1,0 -2,0 0,0 -1,0 -1,0 -1,0 -3,0 -4,0 0,0 -2,0 -3,0 0,0 -1,0 -1,0 -1,0 -1,0 -2,0 0,1 0,1 0,1 0,2 0,3 0,4 1,1 1,2 1,3 0,0 0,1 0,1 1,1 2,3 2,4 0,0 -1,1 -2,1 0,0 -4,-5 -4,-12l0 -2 -6 0c0,0 0,0 0,1 0,5 0,8 2,12 1,3 2,5 3,7 0,1 0,1 0,1 0,1 -1,1 -2,2 0,-1 0,-1 -1,-1 -1,-3 -2,-6 -3,-8 -1,-4 -2,-8 -2,-13 0,0 0,-1 0,-1 -2,0 -5,0 -7,0 0,1 0,1 0,2 0,1 0,1 0,1 0,2 0,4 0,5 1,3 1,5 2,8 1,0 1,1 1,1 1,4 3,7 5,9 0,1 1,1 1,2 0,0 -1,0 -1,1 0,0 -1,0 -1,0 0,0 -1,0 -1,0 -2,-3 -4,-6 -5,-10 0,0 0,0 0,0 -1,-1 -1,-2 -1,-2 -1,-3 -2,-5 -2,-8 -1,-1 -1,-3 -1,-4l0 -3c0,0 0,-1 0,-2l-7 0c0,5 0,8 1,13 1,1 1,3 1,4 1,1 1,2 1,2 0,1 1,1 1,2 0,1 1,3 2,4 0,1 1,2 1,3 1,1 1,2 1,2l4 5c-1,0 -2,1 -3,2 0,-1 0,-2 -1,-2 -4,-7 -7,-13 -9,-22 -2,-4 -2,-8 -2,-12 0,-5 1,-10 3,-15 0,-2 1,-4 2,-6 0,-1 1,-1 1,-2 0,-1 0,-1 1,-1 0,0 0,-1 0,-1l1 -2c1,-2 2,-3 3,-4 0,-1 1,-1 1,-1 1,-2 2,-3 4,-5 0,-1 1,-2 2,-2 1,-1 2,-2 3,-3 0,0 2,-1 2,-1 1,0 1,0 1,0 0,1 1,1 1,2 -1,1 -2,1 -3,2 0,0 -1,0 -1,0l-4 4 -3 4c-1,2 -3,5 -4,6l-2 4c-2,4 -3,8 -4,13 0,1 -1,2 -1,3 0,0 0,1 0,2 0,0 0,1 0,1 1,0 1,0 2,0 1,0 1,0 2,0l2 0c1,0 1,0 1,0 0,0 0,-1 0,-1 0,-1 1,-3 1,-4 0,-3 1,-5 2,-8 1,-2 2,-4 3,-6 2,-3 4,-5 6,-7l0 -1c1,-1 3,-3 4,-3 0,-1 2,-2 3,-2 0,0 1,1 1,2 -1,0 -2,1 -2,1 -2,1 -3,3 -5,5 -1,2 -3,4 -4,6 -1,1 -1,2 -2,2 -1,2 -1,4 -2,7 -1,1 -1,3 -1,4 -1,1 -1,2 -1,3 0,1 0,2 0,2 1,0 1,1 2,1 0,0 1,0 2,0 0,0 1,0 1,0 1,0 2,0 2,0 0,-1 0,-1 0,-1 1,-3 1,-5 2,-7 1,-4 3,-8 5,-11 1,-1 3,-4 5,-5 0,1 1,2 1,3 0,0 0,0 -1,0 -1,1 -3,3 -4,5 -2,4 -4,8 -4,12 -1,1 -1,2 -1,2l0 2c2,0 4,0 6,0 1,-1 1,-1 1,-1 0,-1 0,-3 0,-4 1,0 1,-1 1,-2 1,-2 2,-3 3,-5 0,0 2,-2 3,-3 0,1 1,2 1,3 0,0 -1,0 -1,1 0,0 0,0 -1,0l-1 2c-1,2 -2,4 -2,5 0,1 -1,3 -1,4 2,0 5,0 7,0 2,0 4,0 6,0l0 -41 -2 0c0,0 -1,0 -1,-1 1,0 2,-1 3,-1l0 -8c0,-1 1,-1 1,-1 0,0 1,1 1,1 2,0 2,-1 3,-2 0,-1 1,-2 1,-3 1,0 2,0 3,-1 1,0 2,0 3,0 0,0 0,0 0,0 -1,0 -1,0 -2,0 -1,0 -2,0 -3,1 -2,0 -3,0 -4,1 -1,0 -1,0 -2,1 0,1 0,1 0,2 0,0 0,0 -1,0 0,0 0,0 0,0 0,-1 1,-3 1,-4 1,-1 3,-2 5,-2 2,0 4,0 7,0zm11 77c-1,0 -2,0 -2,-1l0 -43c0,-1 2,-1 2,0 1,0 1,3 1,4 0,1 0,4 0,5 0,3 0,34 -1,34 0,1 0,1 0,1zm-21 -18l0 7c0,1 0,1 0,2 0,1 0,2 0,3 0,1 1,6 -1,6 -1,0 -1,-1 -1,-2l0 -40c0,-1 0,-2 0,-2 0,-1 0,-1 1,-1 2,0 1,4 1,6 0,2 0,5 0,7 0,2 0,5 0,7 0,2 0,5 0,7zm19 -28c0,-3 0,-5 0,-7l0 5c0,0 0,1 0,1 0,1 0,0 0,1zm3 -2l0 0c0,0 -1,-1 0,-1 0,0 0,1 0,1zm-25 0c0,-1 0,-1 0,-1 1,0 1,0 1,1 0,0 0,0 -1,0l0 0zm0 -11l1 -1 0 0c1,1 1,8 1,10 1,1 1,3 0,3 -1,0 -1,-2 -1,-3 0,0 0,-1 0,-1 0,-1 0,-1 0,-2l-1 -6zm25 1c0,2 0,2 0,4l0 2c0,1 -1,5 -2,5 -1,0 0,-4 0,-5 0,-3 0,-2 0,-6 0,0 1,-1 1,-1 0,-1 0,-1 0,-1 0,0 0,-1 0,-1 0,0 0,0 1,0 0,1 0,1 0,1 0,1 0,1 0,2zm-24 -3l0 0c0,0 0,0 0,0zm-1 -1l1 0 0 0 -1 0 0 0zm12 -5l6 0c6,1 6,2 5,8 0,2 -1,4 -1,6l0 0c0,-1 0,-2 0,-3l-9 -1c-1,0 -2,1 -3,1 0,0 -1,0 -2,0l-4 0c0,0 0,0 -1,0l0 1c0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,-1 -1,-7 -1,-8 0,0 0,-1 0,-2 1,-1 1,-1 2,-1 3,-1 5,-1 8,-1zm-5 -8l1 0c1,-1 3,0 5,0 1,0 1,-1 3,0 1,0 2,0 2,0 0,0 -3,0 -4,0 0,0 -2,0 -2,0 -2,0 -3,0 -4,0 0,0 0,0 -1,0z',
                                scale: 0.5,
                                fillColor: 'green',
                                fillOpacity: 1,
                                rotation: direction,
                                anchor: new google.maps.Point(25, 50)
                              }
                            });
                          }
                          else if ((latLonList[i].GPS == "1")) 
                          {
                            marker2 = new google.maps.Marker(
                            {
                              position: myLatlng,
                              map: map,
                              title: 'Client 2',
                              icon : 
                              {
                                path: 'M55 84c1,-1 1,0 2,0 1,0 1,0 2,0l10 0c0,0 0,0 1,0 1,0 2,-1 2,0 2,2 -3,1 -5,1 -1,0 -1,0 -1,0 -1,0 -1,1 -2,1l-2 0c0,0 -1,0 -1,0 -2,0 -4,-1 -5,-1 -2,0 -1,-1 -1,-1zm9 -79l0 0c2,0 4,0 6,0 2,1 4,1 5,2 1,2 1,2 1,4 0,0 0,0 -1,0 0,-1 0,-1 0,-2 -1,-1 -3,-2 -4,-2 -2,0 -4,-1 -5,-1 -2,0 -2,0 -2,0 1,0 5,0 6,1 0,0 0,0 0,1 1,1 3,5 5,3 0,0 0,0 0,0 1,0 1,0 1,1 0,1 0,2 0,3 0,1 0,1 1,1 0,2 -1,3 -1,4 1,0 2,1 2,1 0,0 1,0 1,0 0,1 0,1 -1,1 0,0 -1,0 -1,0 -1,0 0,0 -1,-1 0,1 0,1 0,1 0,1 0,1 0,2 0,0 0,0 0,1l0 37c3,0 5,0 7,0 1,0 2,0 3,0 0,0 1,0 1,0 1,0 1,1 2,1 0,-4 -1,-8 -3,-11l-1 -1c0,-1 -1,-1 -1,-1 0,-1 0,-1 1,-1 0,-1 0,-1 0,-1 1,0 1,0 2,1 0,0 0,0 0,1 1,0 1,0 1,0l1 2c1,3 2,6 2,11 1,0 1,0 1,0 0,0 1,0 1,0l5 0c0,-3 -1,-5 -1,-7 -1,-3 -1,-5 -2,-7 -1,-2 -2,-4 -4,-6 0,-1 -1,-2 -1,-2 0,-1 1,-1 1,-2 1,0 2,2 2,2 2,2 4,5 5,8 0,1 0,2 1,3 1,3 2,7 2,11 0,0 1,0 1,0 1,0 2,0 2,0 1,0 2,0 2,0l2 0c0,-4 -1,-7 -1,-10 -1,-2 -1,-3 -2,-4 0,-2 -1,-4 -2,-4l-1 -3c-1,-1 -1,-2 -2,-3 -1,-2 -4,-6 -7,-7 0,-1 1,-1 1,-1 0,-1 1,-1 1,-2 1,1 2,2 3,3l2 3c2,2 4,5 6,8 0,1 0,2 1,2l1 2c2,6 3,10 3,16 0,0 1,0 2,0 0,0 1,0 1,0 2,0 3,0 4,0 0,-9 -3,-17 -6,-23 0,-1 -1,-2 -1,-3 -2,-2 -3,-4 -5,-7 0,0 0,0 0,-1 -1,-1 -2,-2 -3,-2l-1 -2c-1,-1 -2,-1 -3,-2 0,0 1,-2 1,-2 1,0 4,3 5,3l5 7c0,0 1,1 1,1 1,2 2,3 3,5 1,2 2,4 3,7 2,5 4,11 4,17l0 2c0,7 -2,13 -4,19 -1,3 -2,5 -4,8 -1,2 -3,4 -4,7 -1,1 -2,2 -3,3 0,0 0,0 0,0 -1,0 -1,0 -1,0 -1,-1 -1,-1 -1,-1 0,-1 1,-2 1,-2 2,-2 3,-4 4,-6l3 -5c0,-1 1,-1 1,-1 0,-1 0,-1 0,-1 1,-1 1,-2 1,-3 1,0 1,-1 1,-2 0,-1 1,-1 1,-2 1,-4 2,-9 2,-14 -2,0 -5,0 -7,0 0,4 -1,7 -1,9 -1,3 -3,8 -4,11l-1 1c-1,2 -2,4 -4,6l-2 3 -1 -1c0,0 -1,-1 -1,-1 0,0 0,0 0,0 2,-2 3,-4 4,-6 4,-6 7,-14 7,-22 -1,0 -1,0 -2,0l-5 0c0,0 0,0 0,0 0,6 -1,10 -3,14 0,1 -1,1 -1,1 0,1 -3,7 -4,7 0,0 0,0 0,0l-2 -1c0,-1 1,-2 1,-2 1,-1 2,-2 2,-3 2,-5 4,-10 4,-16 -1,0 -1,0 -2,0 0,0 -1,0 -1,0 -2,0 -2,0 -4,0 0,3 0,6 -1,8 -1,1 -1,2 -2,3 0,1 -1,2 -1,3 -1,0 -2,-2 -2,-2 0,0 1,-2 1,-2 2,-3 3,-6 3,-10 -4,0 -7,0 -11,0 -1,0 -1,0 -2,0l0 23c-1,0 -1,0 -2,0 0,0 0,0 0,1 0,2 0,2 -1,2 -3,1 -3,0 -7,1 0,0 0,0 -1,0 0,0 0,0 -1,0 0,0 0,0 0,0 3,0 6,0 9,0 0,0 1,0 1,-1l0 -3c1,0 3,0 3,1 -1,3 -2,3 -5,3 -1,1 -1,0 -2,1 -2,0 -4,0 -6,0 0,0 0,0 0,1 0,0 0,1 0,1 0,2 0,4 0,6 0,1 0,1 0,1 2,0 5,0 7,-1 2,0 3,-1 5,-2 1,1 1,1 1,2 0,1 0,1 -1,1 -4,2 -8,3 -12,3 0,2 0,3 0,4 0,3 -1,3 1,3 0,0 0,0 1,0 0,0 0,0 1,0 5,0 12,-2 17,-5 0,0 0,0 1,0 0,0 1,2 1,2 0,0 -4,2 -5,3l-2 1c-1,0 -2,0 -3,0 -3,2 -6,2 -9,2 -1,0 -1,0 -2,0 0,0 0,0 -1,0 0,0 0,0 0,0 0,1 -1,2 -1,3 0,1 0,1 0,2 0,0 0,1 0,1 9,0 16,-1 23,-4 0,0 1,-1 1,-1l4 -2c0,0 1,2 2,2l-3 2c-4,1 -7,3 -10,4 -10,3 -22,3 -32,0 -2,-1 -5,-2 -7,-3 -1,0 -2,-1 -3,-1l-3 -2c0,0 0,-1 0,-1 1,0 1,-1 1,-1 0,0 1,0 1,1 2,0 3,1 5,2 2,1 4,1 6,2 4,1 7,2 11,2l4 0c0,-2 0,-4 0,-6 -2,0 -4,0 -6,-1 -3,0 -5,-1 -8,-2 -1,0 -2,0 -2,-1 -1,0 -1,0 -2,0l-2 -1c0,0 -1,-1 -1,-1 0,0 1,-2 1,-2 2,0 3,1 5,2 3,1 6,2 9,3 2,0 4,0 6,0 0,0 0,-1 0,-2 0,0 0,-1 0,-1 0,-1 0,-1 0,-1l0 -2c0,-1 1,-1 1,-1 -4,0 -7,-1 -10,-2 -1,0 -3,-1 -4,-2 0,0 1,-1 1,-2 0,0 1,0 1,1 4,1 7,2 12,2 0,-1 0,-3 0,-5 0,0 0,0 0,-1l0 -3c-3,0 -6,0 -9,-1 -3,0 -4,0 -4,-3 -1,-1 -1,-1 0,-1 1,0 2,0 2,0 0,1 0,2 0,3 1,1 2,1 3,1l2 0c1,0 1,0 2,0 0,0 0,0 1,0 1,0 2,0 3,0 0,0 0,0 0,0 -1,0 -2,0 -3,0 -1,0 -2,-1 -3,-1 -1,0 -4,0 -5,0 0,-1 1,-2 1,-3l-3 0 0 -23c-1,0 -1,0 -2,0 0,0 -1,0 -1,0 -1,0 -3,0 -4,0 0,0 -2,0 -3,0 0,0 -1,0 -1,0 -1,0 -1,0 -2,0 0,1 0,1 0,1 0,2 0,3 0,4 1,1 1,2 1,3 0,0 0,1 0,1 1,1 2,3 2,4 0,0 -1,1 -2,1 0,0 -4,-5 -4,-12l0 -2 -6 0c0,0 0,0 0,1 0,5 0,8 2,12 1,3 2,5 3,7 0,1 0,1 0,1 0,1 -1,1 -2,2 0,-1 0,-1 -1,-1 -1,-3 -2,-6 -3,-8 -1,-4 -2,-8 -2,-13 0,0 0,-1 0,-1 -2,0 -5,0 -7,0 0,1 0,1 0,2 0,1 0,1 0,1 0,2 0,4 0,5 1,3 1,5 2,8 1,0 1,1 1,1 1,4 3,7 5,9 0,1 1,1 1,2 0,0 -1,0 -1,1 0,0 -1,0 -1,0 0,0 -1,0 -1,0 -2,-3 -4,-6 -5,-10 0,0 0,0 0,0 -1,-1 -1,-2 -1,-2 -1,-3 -2,-5 -2,-8 -1,-1 -1,-3 -1,-4l0 -3c0,0 0,-1 0,-2l-7 0c0,5 0,8 1,13 1,1 1,3 1,4 1,1 1,2 1,2 0,1 1,1 1,2 0,1 1,3 2,4 0,1 1,2 1,3 1,1 1,2 1,2l4 5c-1,0 -2,1 -3,2 0,-1 0,-2 -1,-2 -4,-7 -7,-13 -9,-22 -2,-4 -2,-8 -2,-12 0,-5 1,-10 3,-15 0,-2 1,-4 2,-6 0,-1 1,-1 1,-2 0,-1 0,-1 1,-1 0,0 0,-1 0,-1l1 -2c1,-2 2,-3 3,-4 0,-1 1,-1 1,-1 1,-2 2,-3 4,-5 0,-1 1,-2 2,-2 1,-1 2,-2 3,-3 0,0 2,-1 2,-1 1,0 1,0 1,0 0,1 1,1 1,2 -1,1 -2,1 -3,2 0,0 -1,0 -1,0l-4 4 -3 4c-1,2 -3,5 -4,6l-2 4c-2,4 -3,8 -4,13 0,1 -1,2 -1,3 0,0 0,1 0,2 0,0 0,1 0,1 1,0 1,0 2,0 1,0 1,0 2,0l2 0c1,0 1,0 1,0 0,0 0,-1 0,-1 0,-1 1,-3 1,-4 0,-3 1,-5 2,-8 1,-2 2,-4 3,-6 2,-3 4,-5 6,-7l0 -1c1,-1 3,-3 4,-3 0,-1 2,-2 3,-2 0,0 1,1 1,2 -1,0 -2,1 -2,1 -2,1 -3,3 -5,5 -1,2 -3,4 -4,6 -1,1 -1,2 -2,2 -1,2 -1,4 -2,7 -1,1 -1,3 -1,4 -1,1 -1,2 -1,3 0,1 0,2 0,2 1,0 1,1 2,1 0,0 1,0 2,0 0,0 1,0 1,0 1,0 2,0 2,0 0,-1 0,-1 0,-1 1,-3 1,-5 2,-7 1,-4 3,-8 5,-11 1,-1 3,-4 5,-5 0,1 1,2 1,3 0,0 0,0 -1,0 -1,1 -3,3 -4,5 -2,4 -4,8 -4,12 -1,1 -1,2 -1,2l0 2c2,0 4,0 6,0 1,-1 1,-1 1,-1 0,-1 0,-3 0,-4 1,0 1,-1 1,-2 1,-2 2,-3 3,-5 0,0 2,-2 3,-3 0,1 1,2 1,3 0,0 -1,0 -1,1 0,0 0,0 -1,0l-1 2c-1,2 -2,4 -2,5 0,1 -1,3 -1,4 2,0 5,0 7,0 2,0 4,0 6,0l0 -41 -2 0c0,0 -1,0 -1,-1 1,0 2,-1 3,-1l0 -8c0,-1 1,-1 1,-1 0,0 1,1 1,1 2,0 2,-1 3,-2 0,-1 1,-2 1,-3 1,0 2,0 3,-1 1,0 2,0 3,0 0,0 0,0 0,0 -1,0 -1,0 -2,0 -1,0 -2,0 -3,1 -2,0 -3,0 -4,1 -1,0 -1,0 -2,1 0,1 0,1 0,2 0,0 0,0 -1,0 0,0 0,0 0,0 0,-1 1,-3 1,-4 1,-1 3,-2 5,-2 2,0 4,0 7,0zm11 77c-1,0 -2,0 -2,-1l0 -43c0,-1 2,-1 2,0 1,0 1,3 1,4 0,1 0,4 0,5 0,3 0,34 -1,34 0,1 0,1 0,1zm-21 -18l0 7c0,1 0,1 0,2 0,1 0,2 0,3 0,1 1,6 -1,6 -1,0 -1,-1 -1,-2l0 -40c0,-1 0,-2 0,-2 0,-1 0,-1 1,-1 2,0 1,4 1,6 0,2 0,5 0,7 0,2 0,5 0,7 0,2 0,5 0,7zm19 -28c0,-3 0,-5 0,-7l0 5c0,0 0,1 0,1 0,1 0,0 0,1zm3 -2l0 0c0,0 -1,-1 0,-1 0,0 0,1 0,1zm-25 0c0,-1 0,-1 0,-1 1,0 1,0 1,1 0,0 0,0 -1,0l0 0zm0 -11l1 -1 0 0c1,1 1,8 1,10 1,1 1,3 0,3 -1,0 -1,-2 -1,-3 0,0 0,-1 0,-1 0,-1 0,-1 0,-2l-1 -6zm25 1c0,2 0,2 0,4l0 2c0,1 -1,5 -2,5 -1,0 0,-4 0,-5 0,-3 0,-2 0,-6 0,0 1,-1 1,-1 0,-1 0,-1 0,-1 0,0 0,-1 0,-1 0,0 0,0 1,0 0,1 0,1 0,1 0,1 0,1 0,2zm-24 -3l0 0c0,0 0,0 0,0zm-1 -1l1 0 0 0 -1 0 0 0zm12 -5l6 0c6,1 6,2 5,8 0,2 -1,4 -1,6l0 0c0,-1 0,-2 0,-3l-9 -1c-1,0 -2,1 -3,1 0,0 -1,0 -2,0l-4 0c0,0 0,0 -1,0l0 1c0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,-1 -1,-7 -1,-8 0,0 0,-1 0,-2 1,-1 1,-1 2,-1 3,-1 5,-1 8,-1zm-5 -8l1 0c1,-1 3,0 5,0 1,0 1,-1 3,0 1,0 2,0 2,0 0,0 -3,0 -4,0 0,0 -2,0 -2,0 -2,0 -3,0 -4,0 0,0 0,0 -1,0z',
                                scale: 0.5,
                                fillColor: 'red',
                                fillOpacity: 1,
                                rotation: direction,
                                anchor: new google.maps.Point(25, 50)
                              }
                             });
                          }
                          else if ((latLonList[i].GPS == "3" && latLonList[i].movement == "B")) 
                          {
                            marker2 = new google.maps.Marker(
                            {
                              position: myLatlng,
                              map: map,
                              title: 'Client 2',
                              icon : 
                              {
                                path: 'M201 445c5,-1 6,0 12,0 4,1 6,1 10,1l55 0c2,0 3,-1 5,-1 7,0 10,-1 15,0 5,12 -19,10 -30,10 -3,0 -4,1 -7,1 -3,0 -5,0 -7,0l-14 0c-2,0 -5,0 -7,0 -7,0 -21,-1 -27,-3 -7,-2 -6,-3 -5,-8zm48 -431l1 0c11,0 25,1 36,3 10,1 22,2 27,12 3,6 5,11 5,20 -3,-1 -3,-3 -5,-3 0,-3 -2,-6 -3,-8 -5,-8 -13,-10 -22,-12 -10,-1 -18,-5 -28,-4 -10,0 -8,-2 -10,0 8,0 27,1 34,5 1,1 1,1 1,3 2,7 15,28 25,20 1,0 2,-2 2,-3 3,0 5,2 6,5 1,5 1,14 1,20 0,2 1,2 1,5 0,8 -1,15 -1,23 3,0 6,0 8,1 2,1 6,2 6,4 0,6 0,6 -6,5 -2,-1 -2,-1 -4,-1 -5,-2 -3,-2 -6,-4 0,2 2,1 2,5 0,2 0,5 0,7 0,3 0,4 0,7l0 205 0 1 0 127c-5,0 -9,0 -14,0 0,2 0,2 0,4 0,12 1,13 -2,13 -20,4 -18,3 -38,4 -3,0 -4,1 -7,0 -1,0 -4,0 -6,0 1,1 1,1 1,3 16,0 31,0 47,-3 2,0 6,0 6,-2l-1 -17c7,0 17,-2 16,4 -2,16 -11,19 -26,20 -3,0 -7,0 -10,0l-33 1 -2 0c-16,0 -33,1 -49,-1 -13,-2 -23,-3 -23,-19 -1,-5 -3,-5 4,-5 4,0 6,0 11,0 0,6 -1,12 -1,18 3,1 9,2 13,2l14 1c3,0 6,0 8,0 2,0 4,1 7,1 5,0 10,0 15,0 0,-1 0,-2 1,-3 -5,0 -10,0 -16,0 -4,0 -9,-1 -14,-1 -6,0 -23,-2 -27,-3 0,-6 1,-11 1,-18l-14 1 0 -122 0 -2 0 -225 -13 2c0,-1 -1,-4 -1,-6 6,-3 7,-4 14,-4l1 -47c0,-3 2,-4 4,-6 2,1 4,5 7,5 8,0 11,-5 15,-10 2,-3 7,-10 7,-15 6,-2 8,-3 16,-4 5,0 11,-1 18,-1 -2,-2 -2,-1 -5,-1 -2,1 -4,0 -6,1 -8,0 -13,1 -21,3 -6,2 -12,1 -19,5 -5,3 -6,4 -9,9 -4,7 0,5 -4,8 -1,1 -1,1 -2,1 0,1 -1,1 -1,1 0,-7 2,-15 5,-20 6,-10 17,-11 27,-12 12,-2 24,-3 36,-3zm60 423c-4,0 -7,-1 -7,-7l0 -232c0,-9 9,-10 12,-5 2,6 0,19 1,23 1,7 -1,22 -1,31 0,13 1,182 0,186 -1,2 -2,4 -5,4zm-112 -97l0 37c0,3 0,5 0,8 0,6 0,12 0,17 0,6 5,34 -5,34 -6,0 -7,-5 -7,-13l0 -218c0,-3 0,-8 1,-10 0,-3 2,-5 5,-5 10,0 6,23 6,32 0,13 0,26 0,39 0,13 0,25 0,39 0,13 0,26 0,40zm104 -157c0,-13 0,-25 0,-37l1 29c0,1 1,5 0,6 0,2 1,1 -1,2zm16 -7l-3 0c0,-4 0,-6 2,-7 2,1 2,6 1,7zm-136 -4c0,-1 1,-1 1,-3 3,0 3,1 3,6 0,2 -2,2 -4,2l0 -5zm2 -59l0 -7 5 0c3,7 5,44 5,54 1,6 3,18 -2,18 -6,0 -5,-9 -6,-13 0,-2 0,-6 0,-8 -1,-3 -1,-6 -1,-9l-1 -35zm133 6c0,10 -1,12 -1,22l-1 14c0,3 0,23 -6,23 -7,0 -3,-22 -3,-27 1,-18 0,-12 3,-30 0,-3 1,-6 1,-9 1,-2 1,-3 1,-4 1,-2 1,-3 3,-3 1,-2 0,-1 3,-1 0,3 -1,4 -1,7 0,3 1,4 1,8zm-131 -16l0 0c0,0 0,0 0,0zm-2 -3l2 0 0 0 -2 0 0 0zm64 -30l33 2c33,5 32,9 26,40 -1,11 -4,21 -4,33l0 0c0,-6 -1,-9 -1,-13l-51 -5c-3,0 -10,1 -13,1 -3,1 -6,0 -13,1l-20 2c-2,0 -4,0 -7,0l0 6c0,0 0,-1 0,-1 0,0 0,0 0,0 -1,-2 1,2 0,-1 -2,-4 -7,-37 -8,-40 0,-5 0,-10 3,-14 2,-3 6,-5 10,-6 14,-3 30,-5 45,-5zm-27 -42l3 -2c8,-2 19,-1 27,-1 8,0 6,-1 17,0 4,0 12,1 14,4 -4,0 -17,-2 -22,-3 -2,0 -13,0 -15,0 -7,1 -13,1 -20,1 -2,0 -2,1 -4,1z',
                                scale: 0.5,
                                fillColor: 'green',
                                fillOpacity: 1,
                                rotation: direction,
                                anchor: new google.maps.Point(25, 50)
                              }
                            });
                          }
                          else  
                          {
                            marker2 = new google.maps.Marker(
                            {
                              position: myLatlng,
                              map: map,
                              title: 'Client 2',
                              icon : 
                              {
                                path: 'M201 445c5,-1 6,0 12,0 4,1 6,1 10,1l55 0c2,0 3,-1 5,-1 7,0 10,-1 15,0 5,12 -19,10 -30,10 -3,0 -4,1 -7,1 -3,0 -5,0 -7,0l-14 0c-2,0 -5,0 -7,0 -7,0 -21,-1 -27,-3 -7,-2 -6,-3 -5,-8zm48 -431l1 0c11,0 25,1 36,3 10,1 22,2 27,12 3,6 5,11 5,20 -3,-1 -3,-3 -5,-3 0,-3 -2,-6 -3,-8 -5,-8 -13,-10 -22,-12 -10,-1 -18,-5 -28,-4 -10,0 -8,-2 -10,0 8,0 27,1 34,5 1,1 1,1 1,3 2,7 15,28 25,20 1,0 2,-2 2,-3 3,0 5,2 6,5 1,5 1,14 1,20 0,2 1,2 1,5 0,8 -1,15 -1,23 3,0 6,0 8,1 2,1 6,2 6,4 0,6 0,6 -6,5 -2,-1 -2,-1 -4,-1 -5,-2 -3,-2 -6,-4 0,2 2,1 2,5 0,2 0,5 0,7 0,3 0,4 0,7l0 205 0 1 0 127c-5,0 -9,0 -14,0 0,2 0,2 0,4 0,12 1,13 -2,13 -20,4 -18,3 -38,4 -3,0 -4,1 -7,0 -1,0 -4,0 -6,0 1,1 1,1 1,3 16,0 31,0 47,-3 2,0 6,0 6,-2l-1 -17c7,0 17,-2 16,4 -2,16 -11,19 -26,20 -3,0 -7,0 -10,0l-33 1 -2 0c-16,0 -33,1 -49,-1 -13,-2 -23,-3 -23,-19 -1,-5 -3,-5 4,-5 4,0 6,0 11,0 0,6 -1,12 -1,18 3,1 9,2 13,2l14 1c3,0 6,0 8,0 2,0 4,1 7,1 5,0 10,0 15,0 0,-1 0,-2 1,-3 -5,0 -10,0 -16,0 -4,0 -9,-1 -14,-1 -6,0 -23,-2 -27,-3 0,-6 1,-11 1,-18l-14 1 0 -122 0 -2 0 -225 -13 2c0,-1 -1,-4 -1,-6 6,-3 7,-4 14,-4l1 -47c0,-3 2,-4 4,-6 2,1 4,5 7,5 8,0 11,-5 15,-10 2,-3 7,-10 7,-15 6,-2 8,-3 16,-4 5,0 11,-1 18,-1 -2,-2 -2,-1 -5,-1 -2,1 -4,0 -6,1 -8,0 -13,1 -21,3 -6,2 -12,1 -19,5 -5,3 -6,4 -9,9 -4,7 0,5 -4,8 -1,1 -1,1 -2,1 0,1 -1,1 -1,1 0,-7 2,-15 5,-20 6,-10 17,-11 27,-12 12,-2 24,-3 36,-3zm60 423c-4,0 -7,-1 -7,-7l0 -232c0,-9 9,-10 12,-5 2,6 0,19 1,23 1,7 -1,22 -1,31 0,13 1,182 0,186 -1,2 -2,4 -5,4zm-112 -97l0 37c0,3 0,5 0,8 0,6 0,12 0,17 0,6 5,34 -5,34 -6,0 -7,-5 -7,-13l0 -218c0,-3 0,-8 1,-10 0,-3 2,-5 5,-5 10,0 6,23 6,32 0,13 0,26 0,39 0,13 0,25 0,39 0,13 0,26 0,40zm104 -157c0,-13 0,-25 0,-37l1 29c0,1 1,5 0,6 0,2 1,1 -1,2zm16 -7l-3 0c0,-4 0,-6 2,-7 2,1 2,6 1,7zm-136 -4c0,-1 1,-1 1,-3 3,0 3,1 3,6 0,2 -2,2 -4,2l0 -5zm2 -59l0 -7 5 0c3,7 5,44 5,54 1,6 3,18 -2,18 -6,0 -5,-9 -6,-13 0,-2 0,-6 0,-8 -1,-3 -1,-6 -1,-9l-1 -35zm133 6c0,10 -1,12 -1,22l-1 14c0,3 0,23 -6,23 -7,0 -3,-22 -3,-27 1,-18 0,-12 3,-30 0,-3 1,-6 1,-9 1,-2 1,-3 1,-4 1,-2 1,-3 3,-3 1,-2 0,-1 3,-1 0,3 -1,4 -1,7 0,3 1,4 1,8zm-131 -16l0 0c0,0 0,0 0,0zm-2 -3l2 0 0 0 -2 0 0 0zm64 -30l33 2c33,5 32,9 26,40 -1,11 -4,21 -4,33l0 0c0,-6 -1,-9 -1,-13l-51 -5c-3,0 -10,1 -13,1 -3,1 -6,0 -13,1l-20 2c-2,0 -4,0 -7,0l0 6c0,0 0,-1 0,-1 0,0 0,0 0,0 -1,-2 1,2 0,-1 -2,-4 -7,-37 -8,-40 0,-5 0,-10 3,-14 2,-3 6,-5 10,-6 14,-3 30,-5 45,-5zm-27 -42l3 -2c8,-2 19,-1 27,-1 8,0 6,-1 17,0 4,0 12,1 14,4 -4,0 -17,-2 -22,-3 -2,0 -13,0 -15,0 -7,1 -13,1 -20,1 -2,0 -2,1 -4,1z',
                                scale: 0.5,
                                fillColor: 'red',
                                fillOpacity: 1,
                                rotation: direction,
                                anchor: new google.maps.Point(25, 50)
                              }
                            });
                          }
                        map.setCenter(myLatlng);
                        }

                        i++;
                
                  setTimeout(autoUpdate, 3000);
                }
                else
                {
                 setTimeout(autoUpdate, 500);
                }
                }


// Move smouthly
            function moveMarker(){

              old_lat = +old_lat + +deltaLat;
              old_lon = +old_lon + +deltaLng;

              // alert(old_lat+":"+old_lon);
              var latlng = new google.maps.LatLng(old_lat, old_lon);          
              marker2.setPosition(latlng);

              if(j!=numDeltas)
              {
                    j++;
                    setTimeout(moveMarker, 10);                      
              }

            }
// END move smouthly






// for route finding
             function getLatText(point) {
                var lat = point.lat();
                    // lng = point.lng();
                    // alert(lat);
                return lat ;
                // return "lat: " + lat + " lng: " + lng;
            }
              function getLngText(point) {
                var lng = point.lng();
                    // lng = point.lng();
                    // alert(lng);
                return lng ;
                // return "lat: " + lat + " lng: " + lng;
            }

            function routes_points() {
             
                // alert(getLatText(points[l]);
               for (var l = 0; l < points.length; l++) {
                 setTimeout(function(y) {  

                      var latlng1 = new google.maps.LatLng( getLatText(points[y]),  getLngText(points[y]));          
                      var latlng2 = new google.maps.LatLng( getLatText(points[y-1]),  getLngText(points[y-1]));          
                       marker2.setPosition(latlng1);
                       // alert(latlng2);
                    }, l * 500, l);
                }

            }
// END of route finding

          

      // $( "#bus_select" ).change(function() {
      //     var device_id = $('#bus_select').val();
      //     // alert(device_id);
      //     $.post('<?=site_url('Welcome/test')?>',{device:device_id},function(data){
      //       console.log(data);
      //     },'json');
      // });


        });


        //end document ready
    </script>
  </head>
  <body>
<div style="text-align:right">
<form action="<?=site_url('tracking')?>" method="POST" enctype="multipart/form-data">
    Current Device:<input type="text" value="<?=$current_device?>">
    Select The next Device : 
    <select id="bus_select" name="device_id">
      <?php foreach ($car as $key => $value) {?>
        <option value="<?=$key?>"><?=$key?></option>
      <?php } ?>
    </select>
    <input type="submit" >  
</form>
</div>

   
    <div id="mapcanvas">
    </div>
     <div id="vertex-container">
       
        <ul id="vertex">
        </ul>
    </div>

<!-- <div id="directionsPanel"></div> -->
  </body>
</html>